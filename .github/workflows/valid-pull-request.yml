name: Validere pull request
on:
    pull_request:
        types: [opened, synchronize]
jobs:
    setup:
        uses: ./.github/workflows/setup.yml
        secrets:
            READER_TOKEN: ${{ secrets.READER_TOKEN }}

    lint:
        needs: setup
        uses: ./.github/workflows/lint.yml
        secrets:
            READER_TOKEN: ${{ secrets.READER_TOKEN }}

    test:
        needs: setup
        uses: ./.github/workflows/test.yml
        secrets:
            READER_TOKEN: ${{ secrets.READER_TOKEN }}

    test-cypress:
        needs: setup
        uses: ./.github/workflows/cypress-tester.yml
        secrets:
            READER_TOKEN: ${{ secrets.READER_TOKEN }}
